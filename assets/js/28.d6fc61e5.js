(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{492:function(s,a,t){"use strict";t.r(a);var n=t(10),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[s._v("最近需要用到代码管理，所以想到了svn，就临时搭建一个svn服务器，用来托管代码。")])]),s._v(" "),t("h2",{attrs:{id:"安装svn服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装svn服务"}},[s._v("#")]),s._v(" 安装svn服务")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" subversion\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看版本")]),s._v("\nsvnserve --version\n")])])]),t("h2",{attrs:{id:"创建版本库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建版本库"}},[s._v("#")]),s._v(" 创建版本库")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /var/svn\nsvnadmin create /var/svn/hello\n")])])]),t("h2",{attrs:{id:"配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),t("p",[s._v("进入创建好的版本库，修改配置文件。")]),s._v(" "),t("p",[s._v("进入"),t("code",[s._v("conf")]),s._v("文件夹，有三个文件需要修改：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("passwd")]),s._v(",储存的用户名和密码")]),s._v(" "),t("li",[t("code",[s._v("authz")]),s._v(",储存的仓库访问权限")]),s._v(" "),t("li",[t("code",[s._v("svnserve.conf")]),s._v(",储存的服务配置文件")])]),s._v(" "),t("h3",{attrs:{id:"修改密码文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改密码文件"}},[s._v("#")]),s._v(" 修改密码文件")]),s._v(" "),t("p",[s._v("左边用户名，右边密码。")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /var/svn/hello/conf\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加以下内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nadmin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("\n")])])]),t("h3",{attrs:{id:"修改权限文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改权限文件"}},[s._v("#")]),s._v(" 修改权限文件")]),s._v(" "),t("p",[t("code",[s._v("/")]),s._v("表示根目录，"),t("code",[s._v("/test")]),s._v("表示仓库目录下的子目录，"),t("code",[s._v("rw")]),s._v("代表用户可以进行读写权限。")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("groups"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nadmin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" rw\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("/test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" rw\n")])])]),t("h3",{attrs:{id:"修改服务配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改服务配置文件"}},[s._v("#")]),s._v(" 修改服务配置文件")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("anon-access")]),s._v(",表示匿名用户是否访问，")]),s._v(" "),t("li",[t("code",[s._v("auth-access")]),s._v(",表示授权用户可以读写，")]),s._v(" "),t("li",[t("code",[s._v("password-db")]),s._v(",表示用户密码文件，")]),s._v(" "),t("li",[t("code",[s._v("authz-db")]),s._v(",表示权限控制文件")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" svnserve.conf\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改以下内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("general"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nanon-access "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" none "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# none/read/write")]),s._v("\nauth-access "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v("\npassword-db "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v("\nauthz-db "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" authz\n")])])]),t("h2",{attrs:{id:"开启服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开启服务"}},[s._v("#")]),s._v(" 开启服务")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启svn服务")]),s._v("\nsystemctl start svnserve\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启公网访问端口防火墙")]),s._v("\nfirewall-cmd --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3690")]),s._v("/tcp --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --permanent\nfirewall-cmd --reload\n")])])]),t("h2",{attrs:{id:"检出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#检出"}},[s._v("#")]),s._v(" 检出")]),s._v(" "),t("p",[s._v("访问地址就是"),t("a",{attrs:{href:"svn:192.168.1.1:3690/hello"}},[s._v("svn:192.168.1.1/hello")]),s._v("。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/svnserve-checkout.jpg",alt:"svn客户端"}})]),s._v(" "),t("h2",{attrs:{id:"最后"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#最后"}},[s._v("#")]),s._v(" 最后")]),s._v(" "),t("p",[s._v("svnserve目前还有一些小公司团队使用，用途也挺广泛的，欢迎使用。")])])}),[],!1,null,null,null);a.default=e.exports}}]);