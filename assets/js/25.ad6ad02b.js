(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{489:function(s,a,p){"use strict";p.r(a);var t=p(10),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,p=s._self._c||a;return p("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[p("blockquote",[p("p",[s._v("导语：本篇讲解如何配置php开发环境，让你的php代码可以正常的在网页中运行。")])]),s._v(" "),p("h2",{attrs:{id:"准备工作"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[s._v("#")]),s._v(" 准备工作")]),s._v(" "),p("ul",[p("li",[s._v("linux centos7操作系统")]),s._v(" "),p("li",[s._v("ssh软件")]),s._v(" "),p("li",[s._v("nginx")])]),s._v(" "),p("h2",{attrs:{id:"php资源"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#php资源"}},[s._v("#")]),s._v(" php资源")]),s._v(" "),p("p",[s._v("想要了解更多关于php的内容，请访问：")]),s._v(" "),p("p",[p("a",{attrs:{href:"http://php.net/",target:"_blank",rel:"noopener noreferrer"}},[s._v("php官网"),p("OutboundLink")],1)]),s._v(" "),p("h2",{attrs:{id:"安装php"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#安装php"}},[s._v("#")]),s._v(" 安装php")]),s._v(" "),p("p",[s._v("本次安装介绍两个版本的安装方法，一个是广泛应用的5.x,另一个是最新版的7.2。")]),s._v(" "),p("ul",[p("li",[s._v("安装php5.4+")]),s._v(" "),p("li",[s._v("安装php7.2")])]),s._v(" "),p("h3",{attrs:{id:"安装php5-x"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#安装php5-x"}},[s._v("#")]),s._v(" 安装php5.x")]),s._v(" "),p("ul",[p("li",[s._v("第一步,使用yum安装php。")])]),s._v(" "),p("div",{staticClass:"language-sh extra-class"},[p("pre",{pre:!0,attrs:{class:"language-sh"}},[p("code",[s._v("yum "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" php\n")])])]),p("ul",[p("li",[s._v("第二步，安装php的相关模块。")])]),s._v(" "),p("div",{staticClass:"language-sh extra-class"},[p("pre",{pre:!0,attrs:{class:"language-sh"}},[p("code",[s._v("yum "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" php-mysql php-fpm php-cli php-dba php-embedded php-gd php-common php-bcmatch php-enchant php-devel\n")])])]),p("ul",[p("li",[s._v("第三步，打印php版本。")])]),s._v(" "),p("div",{staticClass:"language-sh extra-class"},[p("pre",{pre:!0,attrs:{class:"language-sh"}},[p("code",[s._v("php -v\n")])])]),p("p",[s._v("如果有显示版本号，说明安装成功。")]),s._v(" "),p("h3",{attrs:{id:"安装最新版php7-2"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#安装最新版php7-2"}},[s._v("#")]),s._v(" 安装最新版php7.2")]),s._v(" "),p("p",[s._v("安装之前，如果你的系统还有php旧版本，请卸载，避免发生冲突。")]),s._v(" "),p("p",[s._v("卸载方法："),p("code",[s._v("yum -y remove php*")])]),s._v(" "),p("p",[s._v("由于yum没有php7.2，所以需要额外配置php7.2版本,方法如下:")]),s._v(" "),p("p",[s._v("没有rpm先安装rpm")]),s._v(" "),p("div",{staticClass:"language-sh extra-class"},[p("pre",{pre:!0,attrs:{class:"language-sh"}},[p("code",[s._v("yum "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" epel-release yum-utils\nyum "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" http://rpms.remirepo.net/enterprise/remi-release-7.rpm\n")])])]),p("div",{staticClass:"language-sh extra-class"},[p("pre",{pre:!0,attrs:{class:"language-sh"}},[p("code",[p("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -Uvh https://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/e/epel-release-7-12.noarch.rpm\n"),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm\n")])])]),p("p",[s._v("开始安装php7.2版本")]),s._v(" "),p("div",{staticClass:"language-sh extra-class"},[p("pre",{pre:!0,attrs:{class:"language-sh"}},[p("code",[s._v("yum -y "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" php72w php72w-cli php72w-fpm php72w-common php72w-devel php72w-embedded php72w-gd php72w-mbstring php72w-mysqlnd php72w-opcache php72w-pdo php72w-xml\n")])])]),p("p",[p("strong",[s._v("php-fpm")]),s._v("是php的一个php的fast-cgi服务管理器，专门用于控制php-cgi的fastcgi进程。")]),s._v(" "),p("p",[s._v("所以我们开始启动php-fpm服务。")]),s._v(" "),p("div",{staticClass:"language-sh extra-class"},[p("pre",{pre:!0,attrs:{class:"language-sh"}},[p("code",[s._v("systemctl start php-fpm\nsystemctl "),p("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" php-fpm\n")])])]),p("p",[s._v("最后运行"),p("code",[s._v("php -v")]),s._v("就可以查看版本号了。")]),s._v(" "),p("h2",{attrs:{id:"nginx配置php环境"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#nginx配置php环境"}},[s._v("#")]),s._v(" nginx配置php环境")]),s._v(" "),p("p",[s._v("打开nginx配置文件，输入以下内容。")]),s._v(" "),p("div",{staticClass:"language-sh extra-class"},[p("pre",{pre:!0,attrs:{class:"language-sh"}},[p("code",[p("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/nginx/nginx.conf\n")])])]),p("p",[s._v("在配置文件里面找到"),p("code",[s._v("http { }")]),s._v("，在里面输入：")]),s._v(" "),p("div",{staticClass:"language-config extra-class"},[p("pre",{pre:!0,attrs:{class:"language-text"}},[p("code",[s._v("# fastcgi conf\nfastcgi_connect_timeout 300;  \nfastcgi_send_timeout 300;  \nfastcgi_read_timeout 300;  \nfastcgi_buffer_size 64k;  \nfastcgi_buffers 4 64k;  \nfastcgi_busy_buffers_size 128k;  \nfastcgi_temp_file_write_size 128k;  \n# php配置\nserver {  \n  listen   80;  # 监听端口\n  server_name  www.example.org; # 访问域名  \n  access_log  /var/www/eg/access.log; # 成功日志\n  error_log  /var/www/eg/access.log; # 错误日志\n  root   /var/www/eg; # 根目录\n  index  index.html index.htm index.php; # 首页文件格式\n  # php解析配置\n  location ~ .*\\.(php|php5)?$ {\n    root   /var/www/html;\n    fastcgi_pass   127.0.0.1:9000;  \n    fastcgi_index  index.php;  \n    fastcgi_param  SCRIPT_FILENAME  /var/www/eg$fastcgi_script_name;  \n    include fastcgi_params;\n  }\n  # 静态文件图片规则\n  location ~ .*\\.(gif|jpg|jpeg|png|bmp|swf)$ {\n    expires  30d;\n  }\n  # 静态文件js、css规则\n  location ~ .*\\.(js|css)?$ {\n    expires  1h;\n  }\n}\n")])])]),p("p",[s._v("配置完了以后重载重启nginx。")]),s._v(" "),p("div",{staticClass:"language-sh extra-class"},[p("pre",{pre:!0,attrs:{class:"language-sh"}},[p("code",[s._v("systemctl reload nginx\nsystemctl restart nginx\n")])])]),p("p",[s._v("然后创建一个php文件，访问地址，便可以看到输出结果。")]),s._v(" "),p("ul",[p("li",[s._v("创建目录："),p("code",[s._v("mkdir /var/www/eg")])]),s._v(" "),p("li",[s._v("创建文件: "),p("code",[s._v("vi /var/www/eg/info.php")])]),s._v(" "),p("li",[s._v("输入以下内容：")])]),s._v(" "),p("div",{staticClass:"language-php extra-class"},[p("pre",{pre:!0,attrs:{class:"language-php"}},[p("code",[p("span",{pre:!0,attrs:{class:"token php language-php"}},[p("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("<?php")]),s._v("\n "),p("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),p("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[s._v('"hello,world！"')]),p("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("phpinfo")]),p("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),p("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),p("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),p("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("?>")])]),s._v("\n")])])]),p("h2",{attrs:{id:"预览"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#预览"}},[s._v("#")]),s._v(" 预览")]),s._v(" "),p("p",[s._v("在本地hosts文件增加解析记录,这里的ip就是你远程服务器的ip地址了。")]),s._v(" "),p("div",{staticClass:"language-sh extra-class"},[p("pre",{pre:!0,attrs:{class:"language-sh"}},[p("code",[p("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.123 www.example.org\n")])])]),p("p",[s._v("打开游览器，输入"),p("code",[s._v("http://www.example.org/info.php")]),s._v("就可以看到之前编辑的站点的php文件内容了。")])])}),[],!1,null,null,null);a.default=e.exports}}]);