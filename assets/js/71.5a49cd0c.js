(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{535:function(a,t,s){"use strict";s.r(t);var e=s(10),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("blockquote",[s("p",[a._v("记得去年我工作的时候，公司的项目就开始统一使用jitamin进行项目管理，每天进行提出问题，解决问题，归纳总结，对项目进度把控很到位，效率也很高，这次鼓捣linux，也想着部署一个自己的项目管理软件，所以就开始了，这篇主要记录一下过程，日后留念。")])]),a._v(" "),s("h2",{attrs:{id:"目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录"}},[a._v("#")]),a._v(" 目录")]),a._v(" "),s("ul",[s("li",[a._v("准备")]),a._v(" "),s("li",[a._v("安装")]),a._v(" "),s("li",[a._v("配置")]),a._v(" "),s("li",[a._v("运行")])]),a._v(" "),s("h2",{attrs:{id:"准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#准备"}},[a._v("#")]),a._v(" 准备")]),a._v(" "),s("ul",[s("li",[a._v("一台Linux")]),a._v(" "),s("li",[a._v("ssh")]),a._v(" "),s("li",[a._v("git")]),a._v(" "),s("li",[a._v("php开发环境（php5.6或以上）")]),a._v(" "),s("li",[a._v("数据库（"),s("a",{attrs:{href:"https://www.mysql.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("MySQL"),s("OutboundLink")],1),a._v(" 或 "),s("a",{attrs:{href:"http://www.postgresql.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("PostgreSQL"),s("OutboundLink")],1),a._v(" 或 "),s("a",{attrs:{href:"https://www.sqlite.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("SQLite"),s("OutboundLink")],1),a._v("）")]),a._v(" "),s("li",[s("a",{attrs:{href:"https://getcomposer.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Composer"),s("OutboundLink")],1)])]),a._v(" "),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),s("h3",{attrs:{id:"资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#资源"}},[a._v("#")]),a._v(" 资源")]),a._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"http://jitamin.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("jitamin官网"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/jitamin/jitamin",target:"_blank",rel:"noopener noreferrer"}},[a._v("github"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"https://gitee.com/jitamin/jitamin",target:"_blank",rel:"noopener noreferrer"}},[a._v("gitee码云"),s("OutboundLink")],1)])]),a._v(" "),s("h3",{attrs:{id:"功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#功能"}},[a._v("#")]),a._v(" 功能")]),a._v(" "),s("ul",[s("li",[a._v("简洁、美观的界面")]),a._v(" "),s("li",[a._v("支持多主题")]),a._v(" "),s("li",[a._v("可视化的任务管理")]),a._v(" "),s("li",[a._v("支持列表、看板和甘特图等任务视图")]),a._v(" "),s("li",[a._v("可拖拽式的任务操作")]),a._v(" "),s("li",[a._v("支持多语言，内置英文和简体中文语言包")]),a._v(" "),s("li",[a._v("过滤搜索")]),a._v(" "),s("li",[a._v("可创建团队项目和个人项目")]),a._v(" "),s("li",[a._v("支持任务、子任务、附件和评论")]),a._v(" "),s("li",[a._v("动作自动触发")]),a._v(" "),s("li",[a._v("可视化的统计")]),a._v(" "),s("li",[a._v("第三方集成")]),a._v(" "),s("li",[a._v("支持插件")])]),a._v(" "),s("h3",{attrs:{id:"安装git"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装git"}},[a._v("#")]),a._v(" 安装git")]),a._v(" "),s("div",{staticClass:"language-config extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("yum install -y git\n")])])]),s("h3",{attrs:{id:"安装composer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装composer"}},[a._v("#")]),a._v(" 安装composer")]),a._v(" "),s("ul",[s("li",[a._v("安装方式1")])]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 下载安装脚本")]),a._v("\nphp -r "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"copy('https://getcomposer.org/installer', 'composer-setup.php');\"")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 获取composer签名")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HASH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" -q -O - https://composer.github.io/installer.sig"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 验证脚本是否损坏")]),a._v("\nphp -r "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"if (hash_file('SHA384', 'composer-setup.php') === '"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$HASH")]),a._v("') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;\"")]),a._v("\n")])])]),s("p",[a._v("没有损坏返回 "),s("code",[a._v("Installer verified")]),a._v("，把"),s("code",[a._v("composer")]),a._v("安装到"),s("code",[a._v("/usr/local/bin")]),a._v("全局命令。")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("php composer-setup.php --install-dir"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/bin --filename"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("composer\n")])])]),s("p",[a._v("没问题会输出：")]),a._v(" "),s("div",{staticClass:"language-output extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("All settings correct for using Composer\nDownloading...\n\nComposer (version 1.10.1) successfully installed to: /usr/local/bin/composer\nUse it: php /usr/local/bin/composer\n")])])]),s("p",[a._v("打印版本")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("composer")]),a._v(" -V\nComposer version "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.10")]),a._v(".1 "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2020")]),a._v("-03-13 "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("20")]),a._v(":34:27\n")])])]),s("ul",[s("li",[a._v("快速安装")])]),a._v(" "),s("div",{staticClass:"language-config extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("curl -sS https://getcomposer.org/installer | php\nmv composer.phar /usr/local/bin/composer\n")])])]),s("ul",[s("li",[a._v("安装国内源")])]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -sS https://getcomposer.org/installer "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" php\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" composer.phar /usr/local/bin/composer\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("composer")]),a._v(" config -g repo.packagist "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("composer")]),a._v(" https://packagist.phpcomposer.com\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("zip")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("unzip")]),a._v("\n")])])]),s("h3",{attrs:{id:"克隆代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#克隆代码"}},[a._v("#")]),a._v(" 克隆代码")]),a._v(" "),s("p",[a._v("本次使用gitee的仓库地址，国内站点，下载访问速度快。")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /var/www\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/jitamin/jitamin.git jitamin\n")])])]),s("h2",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),s("ul",[s("li",[a._v("设置配置信息")])]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" .env.example .env\n")])])]),s("p",[a._v("打开"),s("code",[a._v(".env")]),a._v("填写数据库信息。")]),a._v(" "),s("div",{staticClass:"language-env extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("APP_NAME=Jitamin\nAPP_ENV=production\nAPP_DEBUG=true\nAPP_KEY=SomeRandomString\nAPP_TIMEZONE=Asia/Shanghai\nAPP_LOCALE=zh-CN\nAPP_THEME=black\nAPP_LOG=daily\nAPP_LOG_LEVEL=error\nAPP_URL=http://localhost\n\nDB_CONNECTION=mysql\nDB_HOST=127.0.0.1\nDB_PORT=3306\nDB_DATABASE=jitamin\nDB_USERNAME=homestead\nDB_PASSWORD=secret\n")])])]),s("p",[a._v("根据你自己的情况进行配置。")]),a._v(" "),s("ul",[s("li",[a._v("安装依赖和数据库")])]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#安装依赖")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("composer")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -o --no-dev\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#创建数据表")]),a._v("\nvendor/bin/phinx migrate\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#安装初始数据")]),a._v("\nvendor/bin/phinx seed:run\n")])])]),s("ul",[s("li",[a._v("设置目录权限")])]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#静态文件权限")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" -R 0777 bootstrap/cache\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" -R 0777 storage\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#php缓存设置")]),a._v("\nphp artisan config:cache\nphp artisan route:cache\n")])])]),s("ul",[s("li",[a._v("配置apache或者nginx")])]),a._v(" "),s("p",[a._v("配置站点根目录指向"),s("code",[a._v("public")]),a._v("文件夹。")]),a._v(" "),s("p",[s("strong",[a._v("配置apache")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-config extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('<VirtualHost *:80>\n  ServerName jitamin.yourdomain.com\n  DocumentRoot "/var/www/jitamin/public"\n  DirectoryIndex index.php\n  <Directory "/var/www/jitamin/public">\n      AllowOverride all\n  </Directory>\n  ErrorLog "/var/log/apache2/jitamin.yourdomain.com-error.log"\n</VirtualHost>\n')])])]),s("p",[s("strong",[a._v("配置nginx")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-config extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('server {\n  listen 80;\n  server_name jitamin.yourdomain.com;\n  root "/var/www/jitamin/public";\n  index index.php;\n  charset utf-8;\n  location / {\n    try_files $uri $uri/ /index.php?$query_string;\n  }\n  access_log off;\n  error_log  /var/log/nginx/jitamin.yourdomain.com-error.log error;\n  sendfile off;\n  client_max_body_size 100m;\n  location ~ \\.php$ {\n    fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n    fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;\n    #fastcgi_pass 127.0.0.1:9000;\n    fastcgi_index index.php;\n    include fastcgi_params;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    fastcgi_intercept_errors off;\n    fastcgi_buffer_size 16k;\n    fastcgi_buffers 4 16k;\n  }\n  location ~ /\\.ht {\n    deny all;\n  }\n}\n')])])]),s("h2",{attrs:{id:"运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行"}},[a._v("#")]),a._v(" 运行")]),a._v(" "),s("p",[a._v("配置完成后就可以运行了，访问"),s("code",[a._v("http://jitamin.yourdomain.com")]),a._v("登录。")]),a._v(" "),s("p",[a._v("初始账号：")]),a._v(" "),s("ul",[s("li",[a._v("用户名: "),s("code",[a._v("admin")]),a._v(" or "),s("code",[a._v("admin@admin.com")])]),a._v(" "),s("li",[a._v("密码: "),s("code",[a._v("admin")])])]),a._v(" "),s("p",[a._v("预览图：")]),a._v(" "),s("p",[s("img",{attrs:{src:"/img/jitamin.png",alt:"jitamin"}})]),a._v(" "),s("h2",{attrs:{id:"最后"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#最后"}},[a._v("#")]),a._v(" 最后")]),a._v(" "),s("p",[a._v("以上就是部署过程记录，开始用起来吧！")])])}),[],!1,null,null,null);t.default=n.exports}}]);