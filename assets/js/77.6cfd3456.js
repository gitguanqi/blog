(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{541:function(t,a,s){"use strict";s.r(a);var n=s(10),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote",[s("p",[t._v("今天这篇主要介绍nginx的一些好用的模块，配置目录游览和目录权限验证。")])]),t._v(" "),s("h2",{attrs:{id:"nginx配置autoindex目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx配置autoindex目录"}},[t._v("#")]),t._v(" nginx配置autoindex目录")]),t._v(" "),s("p",[t._v("为了共享文件，有些人用"),s("em",[t._v("svn")]),t._v("或者"),s("em",[t._v("git")]),t._v("，有些人用"),s("em",[t._v("scp")]),t._v("，但是我感觉nginx的目录检索功能还是挺简单好用的，大多数人都用的这个。")]),t._v(" "),s("p",[t._v("可以看一下"),s("a",{attrs:{href:"http://mirrors.163.com/archlinux/",target:"_blank",rel:"noopener noreferrer"}},[t._v("163的Linux镜像下载页面"),s("OutboundLink")],1),t._v("就是用的目录索引。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/linux_auto_index.jpg",alt:"163的Linux镜像下载页面"}})]),t._v(" "),s("p",[t._v("配置方法如下：")]),t._v(" "),s("div",{staticClass:"language-config extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("location / {\n    autoindex on;\n    autoindex_exact_size on;\n    autoindex_localtime on;\n}\n")])])]),s("p",[t._v("以上配置适用于"),s("code",[t._v("http")]),t._v("、"),s("code",[t._v("server")]),t._v("、"),s("code",[t._v("location")]),t._v("配置段。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("autoindex")]),t._v("表示是否开启目录索引功能；")]),t._v(" "),s("li",[s("code",[t._v("autoindex_exact_size")]),t._v("表示是否开启文件大小单位,kb,gb,默认是bit;")]),t._v(" "),s("li",[s("code",[t._v("autoindex_localtime")]),t._v("表示是否显示当地时间；")])]),t._v(" "),s("h2",{attrs:{id:"nginx配置auth-basic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx配置auth-basic"}},[t._v("#")]),t._v(" nginx配置auth_basic")]),t._v(" "),s("p",[t._v("【"),s("a",{attrs:{href:"http://nginx.org/en/docs/http/ngx_http_auth_basic_module.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网直达"),s("OutboundLink")],1),t._v("】")]),t._v(" "),s("h3",{attrs:{id:"用法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用法"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),s("ul",[s("li",[t._v("auth_basic")])]),t._v(" "),s("p",[t._v("语法："),s("code",[t._v("auth_basic string | off")]),t._v(";\n默认："),s("code",[t._v("auth_basic off;")]),t._v(" 关闭\n内容: "),s("code",[t._v("http, server, location, limit_except")])]),t._v(" "),s("ul",[s("li",[t._v("auth_basic_user_file")])]),t._v(" "),s("p",[t._v("语法："),s("code",[t._v("auth_basic_user_file file")]),t._v(";\n默认：—\n内容: "),s("code",[t._v("http, server, location, limit_except")])]),t._v(" "),s("p",[t._v("文件内容格式：")]),t._v(" "),s("div",{staticClass:"language-config extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# comment\nname1:password1\nname2:password2:comment\nname3:password3\n")])])]),s("p",[t._v("例如：")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("location / "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    auth_basic           "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"closed site"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    auth_basic_user_file conf/htpasswd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"生产密码方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生产密码方法"}},[t._v("#")]),t._v(" 生产密码方法")]),t._v(" "),s("ul",[s("li",[t._v("安装httpd-tools工具包")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" httpd-tools –y\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -ql httpd-tools\nhtpasswd --help\nhtpasswd -bc /usr/local/nginx/conf.d/htpasswd "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123456")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" /usr/local/nginx/conf.d/htpasswd\n")])])]),s("ul",[s("li",[t._v("在线生成")])]),t._v(" "),s("p",[t._v("地址："),s("a",{attrs:{href:"https://tool.oschina.net/htpasswd",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://tool.oschina.net/htpasswd"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/htpasswd.jpg",alt:"在线生成"}})]),t._v(" "),s("p",[t._v("例如："),s("code",[t._v("test:$apr1$qPcxolSw$H23/gnP6HAWCI30eiuhaG/")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" htpasswd\n")])])]),s("p",[t._v("乱码问题请设置"),s("code",[t._v("charset utf-8;")]),t._v(";")]),t._v(" "),s("p",[t._v("输入生成的内容然后复制进去。")]),t._v(" "),s("p",[t._v("最后打开网址输入用户名和密码就可以访问了!")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/auth_basic.jpg",alt:"访问"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);