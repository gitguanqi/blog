(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{491:function(s,t,a){"use strict";a.r(t);var n=a(10),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("blockquote",[a("p",[s._v("导语:大家都知道，公司买上服务器，不可能实时在线操作虚拟机，也没有那个时间和精力登录到公司的云服务商官网进行操作，一来不安全，二来也效率不高。")])]),s._v(" "),a("p",[s._v("如果是购买的虚拟主机，你可以使用ftp进行本地程序文件传输和从虚拟主机下载文件到本地。但是对于云服务器来说这种操作方法就显得落后许多了。")]),s._v(" "),a("p",[s._v("今天主要是重点讲解如何使用ssh来操作Linux系统，还是以centos7为蓝本。")]),s._v(" "),a("h2",{attrs:{id:"安装要求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装要求"}},[s._v("#")]),s._v(" 安装要求")]),s._v(" "),a("p",[s._v("linux centos7系统")]),s._v(" "),a("h2",{attrs:{id:"安装ssh程序包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装ssh程序包"}},[s._v("#")]),s._v(" 安装ssh程序包")]),s._v(" "),a("p",[s._v("打开系统命令行，输入以下命令下载包。")]),s._v(" "),a("p",[s._v("查看是否安装openssh")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -E "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"openssh"')]),s._v("\n")])])]),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y openssh openssh-server\n")])])]),a("p",[s._v("等待几分钟就下载好了。")]),s._v(" "),a("h2",{attrs:{id:"启动ssh服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动ssh服务"}},[s._v("#")]),s._v(" 启动ssh服务")]),s._v(" "),a("p",[s._v("接下来我们运行以下命令使ssh服务可以长时间在线运行。")]),s._v(" "),a("p",[s._v("启动ssh服务程序")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl start sshd\n")])])]),a("p",[s._v("开机自启动")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" sshd\n")])])]),a("p",[s._v("开启防火墙服务")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("firewall-cmd --add-service"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ftp/tcp --permanent\nfirewall-cmd --add-service"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http/tcp --permanent\nfirewall-cmd --reload\n")])])]),a("h2",{attrs:{id:"下载ssh软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载ssh软件"}},[s._v("#")]),s._v(" 下载ssh软件")]),s._v(" "),a("p",[s._v("这里推荐两个不错的软件。")]),s._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://www.putty.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("putty"),a("OutboundLink")],1),s._v("；")])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"http://www.xshellcn.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("xshell"),a("OutboundLink")],1),s._v("；")])])]),s._v(" "),a("p",[s._v("下载完了安装到本地，下一步安装你懂的。")]),s._v(" "),a("h2",{attrs:{id:"连接服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#连接服务"}},[s._v("#")]),s._v(" 连接服务")]),s._v(" "),a("p",[s._v("下载好以后，你就可以进行连接远程云服务器进行操作了.")]),s._v(" "),a("p",[s._v("那个ip地址就是你服务器的ip，账号和密码就是你服务器的登录账号的密码，或者是你在系统上创建的其他账户的用户名和密码。")]),s._v(" "),a("p",[s._v("那个端口号是默认22，所以你要开启防火墙添加这个端口号。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("firewall-cmd --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("/tcp --permanent\n")])])]),a("p",[s._v("温馨提示：如果你的账号是root账号，就不需要加sudo了，否则请在命令前面加。")]),s._v(" "),a("h2",{attrs:{id:"免密登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#免密登录"}},[s._v("#")]),s._v(" 免密登录")]),s._v(" "),a("p",[s._v("有时候经常输入密码，容易忘记，也很麻烦，还会遭受黑客攻击，暴力破解等情况，所以可以使用免密登录。")]),s._v(" "),a("h3",{attrs:{id:"ssh-keygen用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh-keygen用法"}},[s._v("#")]),s._v(" ssh-keygen用法")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ ssh-keygen --version\nssh-keygen: unknown option -- -\nusage: ssh-keygen "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-b bits"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-t dsa "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ecdsa "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" ed25519 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" rsa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-m format"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n                  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-N new_passphrase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-C comment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-f output_keyfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       ssh-keygen -p "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-P old_passphrase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-N new_passphrase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-m format"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n                   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-f keyfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       ssh-keygen -i "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-m key_format"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-f input_keyfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       ssh-keygen -e "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-m key_format"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-f input_keyfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       ssh-keygen -y "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-f input_keyfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       ssh-keygen -c "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-P passphrase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-C comment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-f keyfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       ssh-keygen -l "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-E fingerprint_hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-f input_keyfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       ssh-keygen -B "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-f input_keyfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       ssh-keygen -D pkcs11\n       ssh-keygen -F "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("hostname")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-f known_hosts_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-l"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       ssh-keygen -H "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-f known_hosts_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       ssh-keygen -R "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("hostname")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-f known_hosts_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       ssh-keygen -r "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("hostname")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-f input_keyfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-g"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       ssh-keygen -G output_file "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-b bits"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-M memory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-S start_point"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       ssh-keygen -T output_file -f input_file "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-a rounds"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-J num_lines"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n                  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-j start_line"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-K checkpt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-W generator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       ssh-keygen -s ca_key -I certificate_identity "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-h"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-U"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n                  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-D pkcs11_provider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-n principals"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-O option"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n                  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-V validity_interval"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-z serial_number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n       ssh-keygen -L "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-f input_keyfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       ssh-keygen -A\n       ssh-keygen -k -f krl_file "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-u"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-s ca_public"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-z version_number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n                  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n       ssh-keygen -Q -f krl_file "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])])]),a("h3",{attrs:{id:"生成密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生成密钥"}},[s._v("#")]),s._v(" 生成密钥")]),s._v(" "),a("p",[s._v("生成一个密钥，如果是多个密钥，记得输入文件名称。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("ssh-keygen -t rsa -b "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" -C "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xxx@xxx.com"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 回车，输入文件名称")]),s._v("\nGenerating public/private rsa key pair.\nEnter "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" to save the key "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/c/Users/woshidev/.ssh/id_rsa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\nEnter passphrase "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("empty "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" no passphrase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\nEnter same passphrase again:\nYour identification has been saved "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" test.\nYour public key has been saved "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" test.pub.\nThe key fingerprint is:\nSHA256:fUMdZshVgIZNb4OoQckzjm+aNRUTt7JNh9NG/QQgNEQ xxx@xxx.com\nThe key's randomart image is:\n+---"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("RSA "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n-----+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("E*"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v("O"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("."),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       ."),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v("*@ .o"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       o.oo+B O"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" .+.* "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       .S.o +    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("      o          "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n------+\n")])])]),a("p",[s._v("或者"),a("code",[s._v('ssh-keygen -t rsa -b 4096 -C "xxx@xxx.com" -f ~/.ssh/a_rsa')]),s._v("，也可以指定文件路径和名称")]),s._v(" "),a("h3",{attrs:{id:"配置多个密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置多个密钥"}},[s._v("#")]),s._v(" 配置多个密钥")]),s._v(" "),a("p",[s._v("创建一个config文件，写入一下内容。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" config\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" config\n")])])]),a("p",[s._v("配置文件内容")]),s._v(" "),a("div",{staticClass:"language-configig extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# test host\nHost 192.168.1.1 # 主机域名或者ip\nHostName 192.168.1.1 # 主机名称\nUser root # 登录用户名\nPort 1234 # 登录端口号\nPreferredAuthentications publickey,password publickey,keyboard-interactive # 密钥和密码都可以登录\nIdentityFile /C/Users/test/.ssh/test # 私钥文件\n\n# git host\nHost 192.168.1.2 # 主机域名或者ip\nHostName 192.168.1.2 # 主机名称\nUser root # 登录用户名\nPort 123456 # 登录端口号\nPreferredAuthentications publickey,password publickey,keyboard-interactive # 密钥和密码都可以登录\nIdentityFile /C/Users/test/.ssh/git # 私钥文件\n")])])]),a("p",[s._v("上面是一个的，如果多个，就按照这个格式填写多个密钥对应不同主机即可。")]),s._v(" "),a("h3",{attrs:{id:"拷贝公钥到服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拷贝公钥到服务器"}},[s._v("#")]),s._v(" 拷贝公钥到服务器")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("ssh-copy-id -i ~/.ssh/test.pub -p 端口号 服务器账号@服务器ip\n")])])]),a("p",[s._v("查看日志"),a("code",[s._v("ssh root@192.168.1.1 -vvv")])]),s._v(" "),a("h3",{attrs:{id:"体验免密登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#体验免密登录"}},[s._v("#")]),s._v(" 体验免密登录")]),s._v(" "),a("p",[s._v("接下来就可以免密登录了。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" root@192.168.1.1\n")])])]),a("h2",{attrs:{id:"写在最后"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#写在最后"}},[s._v("#")]),s._v(" 写在最后")]),s._v(" "),a("p",[s._v("本文主要是自己的亲身体验，最后做一个总结。如有不足之处，还请多多指教。")])])}),[],!1,null,null,null);t.default=e.exports}}]);