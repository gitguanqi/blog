(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{485:function(s,a,t){"use strict";t.r(a);var e=t(10),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[s._v("有时候在本地开发时候也需要配置ssl证书，这样保证和线上环境一样，更适合调试，所以本篇介绍如何配置本地免费ssl证书。")])]),s._v(" "),t("h2",{attrs:{id:"安装mkcert"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装mkcert"}},[s._v("#")]),s._v(" 安装mkcert")]),s._v(" "),t("h3",{attrs:{id:"linux安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux安装"}},[s._v("#")]),s._v(" linux安装")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/FiloSottile/mkcert",target:"_blank",rel:"noopener noreferrer"}},[s._v("mkcert"),t("OutboundLink")],1),s._v("是Google公司开发的一款小工具，用来自签本地证书。")]),s._v(" "),t("ul",[t("li",[s._v("安装certutil")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" libnss3-tools\n    -or-\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nss-tools\n    -or-\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pacman -S nss\n    -or-\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("zypper")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mozilla-nss-tools\n")])])]),t("ul",[t("li",[s._v("安装"),t("a",{attrs:{href:"https://docs.brew.sh/Homebrew-on-Linux",target:"_blank",rel:"noopener noreferrer"}},[s._v("brew"),t("OutboundLink")],1)])]),s._v(" "),t("p",[s._v("记得使用非root账号操作，否则报错！")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("/bin/bash -c "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" -d ~/.linuxbrew "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("eval")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("~/.linuxbrew/bin/brew shellenv"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" -d /home/linuxbrew/.linuxbrew "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("eval")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("/home/linuxbrew/.linuxbrew/bin/brew shellenv"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" -r ~/.bash_profile "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eval \\'),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("brew --prefix"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("/bin/brew shellenv"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v("~/.bash_profile\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eval \\'),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("brew --prefix"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("/bin/brew shellenv"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v("~/.profile\n")])])]),t("ul",[t("li",[s._v("安装mkcert")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("brew "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mkcert\n")])])]),t("h2",{attrs:{id:"签署证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#签署证书"}},[s._v("#")]),s._v(" 签署证书")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# root certbot")]),s._v("\nmkcert -install\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# command")]),s._v("\nmkcert -key-file key.pem -cert-file cert.pem example.com *.example.com\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# option")]),s._v("\n-cert-file FILE, -key-file FILE, -p12-file FILE\n    Customize the output paths.\n\n-client\n    Generate a certificate "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" client authentication.\n\n-ecdsa\n    Generate a certificate with an ECDSA key.\n\n-pkcs12\n    Generate a "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('".p12"')]),s._v(" PKCS "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#12 file, also know as a ".pfx" file,')]),s._v("\n    containing certificate and key "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" legacy applications.\n\n-csr CSR\n    Generate a certificate based on the supplied CSR. Conflicts with\n    all other flags and arguments except -install and -cert-file.\n")])])]),t("h2",{attrs:{id:"展示"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#展示"}},[s._v("#")]),s._v(" 展示")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/linux-ssl.jpg",alt:"linux ssl"}})])])}),[],!1,null,null,null);a.default=n.exports}}]);